<!DOCTYPE html>
<html lang="en" ng-app="ProjectMgmt">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Project Management</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
</head>

<body ng-controller="TaskCtrl">
    <div class="container">
        <h1 class="title text-center">Assign Task</h1>
        <hr />
        <form name="newTask" class="form-horizontal" novalidate ng-submit="addTask(task)">
            <div class="form-group">
                <label class="col-sm-2 control-label">Project Id</label>
                <div class="col-sm-6">
                    <input type="number" class="form-control" name="projectId" placeholder="Project Id" ng-model="task.projectId" required>
                    <div ng-messages="newTask.projectId.$error" class="pull-right" ng-show="newTask.$submitted || newTask.projectId.$touched">
                        <div ng-message="required" class="text-danger">This field is required !</div>
                        <div ng-message="number" class="text-danger">Accept number only !</div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Task Title </label>
                <div class="col-sm-6">
                    <input type="text" class="form-control" name="title" placeholder="Task Title" ng-model="task.title" required>
                    <div ng-messages="newTask.title.$error" class="pull-right" ng-show="newTask.$submitted || newTask.title.$touched">
                        <div ng-message="required" class="text-danger">This field is required !</div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Task Description </label>
                <div class="col-sm-6">
                    <textarea class="form-control" name="description" placeholder="Task Description" ng-model="task.description" required ng-minlength="20"></textarea>
                    <div ng-messages="newTask.description.$error" class="pull-right" ng-show="newTask.$submitted || newTask.description.$touched">
                        <div ng-message="required" class="text-danger">This field is required !</div>
                        <div ng-message="minlength" class="text-danger">Atleast 20 characters !</div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Task Priority </label>
                <div class="col-sm-6">
                    <select class="form-control" ng-model="task.priority" name="priority" required>
                        <option value="">Choose Priority</option>
                        <option value="Critical">Critical</option>
                        <option value="Major">Major</option>
                        <option value="Minor">Minor</option>
                    </select>
                    
                    <div ng-messages="newTask.priority.$error" class="pull-right" ng-show="newTask.$submitted || newTask.priority.$touched">
                        <div ng-message="required" class="text-danger">This field is required !</div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Estimated Hour </label>
                <div class="col-sm-6">
                    <input type="number" class="form-control" name="estHour" placeholder="Estimated Hour" ng-model="task.estHour" required min="1" max="50">
                    <div ng-messages="newTask.estHour.$error" class="pull-right" ng-show="newTask.$submitted || newTask.estHour.$touched">
                        <div ng-message="required" class="text-danger">This field is required !</div>
                        <div ng-message="min" class="text-danger">Value must be at least 1 !</div>
                        <div ng-message="max" class="text-danger">Max value is 50 !</div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Start Date </label>
                <div class="col-sm-6">
                    <input type="date" class="form-control" name="startDate" placeholder="Start Date" ng-model="task.startDate" required>
                    <div ng-messages="newTask.startDate.$error" class="pull-right" ng-show="newTask.$submitted || newTask.startDate.$touched">
                        <div ng-message="required" class="text-danger">This field is required !</div>
                        <div ng-message="date" class="text-danger">Please enter valid date !</div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">End Date </label>
                <div class="col-sm-6">
                    <input type="date" class="form-control" name="endDate" placeholder="End Date" ng-model="task.endDate" required>
                    <div ng-messages="newTask.endDate.$error" class="pull-right" ng-show="newTask.$submitted || newTask.endDate.$touched">
                        <div ng-message="required" class="text-danger">This field is required !</div>
                        <div ng-message="date" class="text-danger">Please enter valid date !</div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Assign To</label>
                <div class="col-sm-6">
                    <input type="number" class="form-control" name="assignTo" placeholder="Assign To" ng-model="task.assignTo" required>
                    <div ng-messages="newTask.assignTo.$error" class="pull-right" ng-show="newTask.$submitted || newTask.assignTo.$touched">
                        <div ng-message="required" class="text-danger">This field is required !</div>
                    </div>
                </div>
            </div>
            <div class="col-sm-8">
                <button class="btn btn-default pull-right" ng-click="addTask(task)">Assign Task</button>
            </div>
        </form>
    </div>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular-messages.js"></script>
    <script type="text/javascript" src="js/app.js"></script>
    <script type="text/javascript" src="js/TaskCtrl.js"></script>
</body>

</html>
